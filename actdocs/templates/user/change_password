[% WRAPPER ui title = loc('Change Password') %]

[% PROCESS error
  msgs = {
    ERR_OLD_PASSWORD => loc("Incorrect login or password"),
    ERR_PASSWORD_1 => loc("Please type in your new password"),
    ERR_PASSWORD_2 => loc("Please type in your new password"),
    ERR_SAME       => loc("Passwords don't match"),
  }
%]

<section id="change-password">
  <h1>Change password</h1>
  <form method="post" action="[% global.request.r.uri %]">
    [% IF (global.request.user) %]
    <div class="input-wrap -text">
      <label for="form-oldpassword">{{Current password}}</label>
      <input type="password" class="npw-input" name="oldpassword" id="form-oldpassword" value="" maxlength="60" placeholder="{{Current password}}">
    </div>
    [% END %]
    <div class="input-wrap -text">
      <label for="form-newpassword1">{{Enter your new password twice}}</label>
      <input type="password" class="npw-input" name="newpassword1" value="[% newpassword1 %]" maxlength="60" placeholder="{{Enter your new password twice}}">
    </div>
    <div class="input-wrap -text">
      <input type="password" class="npw-input" name="newpassword2" value="[% newpassword2 %]" maxlength="60" placeholder="{{Enter your new password twice}}">
    </div>
    <div class="submit-wrap">
      <button type="submit" name="ok" value="{{Change Password}}" class="button">{{Change Password}}</button>
    </div>
  </form>
</section>

[% END %]
